\chapter{System Features}
This section organizes the functional requirements for \acrshort{csaf} . As the package serves as a library and 
middleware, it is organized by tasks commonly needed for system analysis.

\section{[\acrshort{csaf} -01] Component Creation}
The user is able to take common model description and put them into the \acrshort{csaf}  environment.

\subsection{Description and Priority}
This is a high priority feature. For now, emphasis is put on the integration of a F16 model and possibly other 
aerodynamic models. Also, a variety of controllers need to be converted to this middleware.

\subsection{Stimulus/Response Sequences}
The user
\begin{enumerate}
\item identifies their model to a common model description (dynamical, linear, fuzzy, neural, etc)
\item wraps their model to interfaces required by the \acrshort{csaf}  middleware
\item tests the new component on the \acrshort{csaf}  platform
\end{enumerate}

\subsection{Functional Requirements}
\begin{enumerate}
\item REQ-1 \quad the user can transform a system written in python into a \acrshort{csaf}  component
\end{enumerate}

\section{[\acrshort{csaf} -02] Time Domain Simulation}
The user is able to take a \acrshort{csaf}  system and simulate it.

\subsection{Description and Priority}
This is a high priority feature.

\subsection{Stimulus/Response Sequences}
The user
\begin{enumerate}
\item has a valid system of components
\item specifies initial states for all components
\item specifies a time interval AND valid conditions for the system
\item run a simulator, and gets a time trace as an output
\end{enumerate}

\subsection{Functional Requirements}
\begin{enumerate}
\item REQ-1 \quad the user receives a time trace as an output
\item REQ-2 \quad the user can view the system changing in a real-time dashboard
\end{enumerate}


\section{[\acrshort{csaf} -03] Component Composition}
The user is able to compose components to create a controlled plant system.

\subsection{Description and Priority}
This is a high priority feature.

\subsection{Stimulus/Response Sequences}
The user
\begin{enumerate}
\item specifies input and output signal between components
\item checks that they have valid topology using a checker
\end{enumerate}

\subsection{Functional Requirements}
\begin{enumerate}
\item REQ-1 \quad the user can specify inner/outer loop systems
\item REQ-2 \quad a checker ensures that the components are correct configured before further use
\item REQ-3 \quad the user can concatenate, re-order and split signals
\end{enumerate}

\section{[\acrshort{csaf} -04] CoPilot Support}
The user is able to describe monitors in copilot, and translate them to CSAF components automatically.

\subsection{Description and Priority}
This is a high priority feature.

\subsection{Stimulus/Response Sequences}
The user
\begin{enumerate}
\item creates motions primitives in CoPilot
\item describes a monitor policy 
\item  invokes CSAF to wrap a component around the built monitor
\item associates controllers with the monitor to make a shield
\end{enumerate}

\subsection{Functional Requirements}
\begin{enumerate}
\item REQ-1 \quad supports CoPilot 3
\end{enumerate}

\section{[\acrshort{csaf} -05] Controller Monitoring and Shields}

CSAF's use case is to simulate and analyzes shields, where multiple controllers can be alternated via a 
monitoring policy. A monitor is a special controller component that is typically stateless and outputs a 
controller selection index. Also, the controllers generally accept the same input/output signatures, although 
that is not required. 

\subsection{Description and Priority}
This is a high priority feature.

\subsection{Stimulus/Response Sequences}
The user
\begin{enumerate}
\item has multiple valid controllers and monitor
\item associates each controller with a position index for the monitor to select 
\item  configures the inputs and outputs of the monitor and all controllers
\end{enumerate}

\subsection{Functional Requirements}
\begin{enumerate}
\item REQ-1 \quad permits the use of recovery shields
\end{enumerate}

\section{[\acrshort{csaf} -06] Fuzzy Controller Representation}

The user can implement controllers in fuzzy logic easily, and in a form that allows specialized fuzzy controller analysis. 

\subsection{Description and Priority}
This is a medium priority feature.

\subsection{Stimulus/Response Sequences}
The user
\begin{enumerate}
\item specifies the fuzzy variables
\item selects/implements a fuzzifier/defuzzifier
\item provides a rules inference table
\end{enumerate}

\subsection{Functional Requirements}

\begin{enumerate}
\item REQ-1 \quad can represent rules inference from numpy array, loaded from .npy file
\end{enumerate}


\section{[\acrshort{csaf} -07] Neural Controller Representation}
The user can conveniently create neural controllers from neural networks described in common formats.

\subsection{Description and Priority}
This is a medium priority feature.

\subsection{Stimulus/Response Sequences}
The user
\begin{enumerate}
\item trains a neural network
\item relates network IO to controller IO
\item the feedforward network is wrapped into a CSAF component
\end{enumerate}

\subsection{Functional Requirements}
\begin{enumerate}
\item REQ-1 \quad supports a network represented under TensorFlow 1.x
\end{enumerate}

\section{[\acrshort{csaf} -08] Time Traces}

The can interact with a temporal data structure as output from a time domain simulation.

\subsection{Description and Priority}
This is a medium priority feature.

\subsection{Stimulus/Response Sequences}
The user
\begin{enumerate}
\item received a time trace from simulation output
\item can check properties of the trace or collection of traces
\item can visualized variables inside the trace or collection of traces
\end{enumerate}


\subsection{Functional Requirements}

None


%\section{System Feature 2 (and so on)}
%
%
%\chapter{Other Nonfunctional Requirements}
%
%\section{Performance Requirements}
%$<$If there are performance requirements for the product under various 
%circumstances, state them here and explain their rationale, to help the 
%developers understand the intent and make suitable design choices. Specify the 
%timing relationships for real time systems. Make such requirements as specific 
%as possible. You may need to state performance requirements for individual 
%functional requirements or features.$>$
%
%\section{Safety Requirements}
%$<$Specify those requirements that are concerned with possible loss, damage, or 
%harm that could result from the use of the product. Define any safeguards or 
%actions that must be taken, as well as actions that must be prevented. Refer to 
%any external policies or regulations that state safety issues that affect the 
%productâ€™s design or use. Define any safety certifications that must be 
%satisfied.$>$
%
%\section{Security Requirements}
%$<$Specify any requirements regarding security or privacy issues surrounding use 
%of the product or protection of the data used or created by the product. Define 
%any user identity authentication requirements. Refer to any external policies or 
%regulations containing security issues that affect the product. Define any 
%security or privacy certifications that must be satisfied.$>$
%
%\section{Software Quality Attributes}
%$<$Specify any additional quality characteristics for the product that will be 
%important to either the customers or the developers. Some to consider are: 
%adaptability, availability, correctness, flexibility, interoperability, 
%maintainability, portability, reliability, reusability, robustness, testability, 
%and usability. Write these to be specific, quantitative, and verifiable when 
%possible. At the least, clarify the relative preferences for various attributes, 
%such as ease of use over ease of learning.$>$
%
%\section{Business Rules}
%$<$List any operating principles about the product, such as which individuals or 
%roles can perform which functions under specific circumstances. These are not 
%functional requirements in themselves, but they may imply certain functional 
%requirements to enforce the rules.$>$
%
%
%\chapter{Other Requirements}
%$<$Define any other requirements not covered elsewhere in the SRS. This might 
%include database requirements, internationalization requirements, legal 
%requirements, reuse objectives for the project, and so on. Add any new sections 
%that are pertinent to the project.$>$
%
%\section{Appendix A: Glossary}
%%see https://en.wikibooks.org/wiki/LaTeX/Glossary
%$<$Define all the terms necessary to properly interpret the SRS, including 
%acronyms and abbreviations. You may wish to build a separate glossary that spans 
%multiple projects or the entire organization, and just include terms specific to 
%a single project in each SRS.$>$
%
%\section{Appendix B: Analysis Models}
%$<$Optionally, include any pertinent analysis models, such as data flow 
%diagrams, class diagrams, state-transition diagrams, or entity-relationship 
%diagrams.$>$
%
%\section{Appendix C: To Be Determined List}
%$<$Collect a numbered list of the TBD (to be determined) references that remain 
%in the SRS so they can be tracked to closure.$>$
